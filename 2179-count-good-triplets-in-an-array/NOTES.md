### [From discussion](https://leetcode.com/problems/count-good-triplets-in-an-array/discuss/1783180/Python-2-Fenwick-trees-solution-explained)
First of all notice, that if we change order of one permutation, say we sort it, then it is enough for the second permutation to look for number of increasing triplets. Let us consider example, where we have arr = [9, 8, 4, 2, 5, 1, 6, 0, 3, 7] and look what we have in our BITs after each iteration.
​
1.  First element is 9, so we update BIT1 and have [0, 0, 0, 0, 0, 0, 0, 0, 0, 1] now, then we have [0, 0, 0, 0, 0, 0, 0, 0, 1, 1], then we have [0, 0, 0, 0, 1, 0, 0, 0, 1, 1] and so on.
2.  What is BIT2 BIT used for? It is for each element to know how many element less than it we already met before. It will change like this [0, 0, 0, 0, 0, 0, 0, 0, 0, 0] -> [0, 0, 0, 0, 0, 0, 0, 0, 0, 0] -> [0, 0, 0, 0, 0, 0, 0, 0, 0, 0] -> [0, 0, 0, 0, 0, 0, 0, 0, 0, 0] -> [0, 0, 0, 0, 0, 2, 0, 0, 0, 0] and so on. On the 5-th step we get 2, because when we add 5, we already have 4 and 2 added before. After next iteration when we add 1, nothing change and when we add 6, we have [0, 0, 0, 0, 0, 2, 4, 0, 0, 0], because we have 4 numbers less than 6 already.
3.  Finally, when we add new number, how to calculate number of increasing triplets which end with this number? In fact this is sum of all elements before i in our BIT2! Why? Because what we keep in our BIT2: number of pairs which are increasing: to get increasing triple we need to have increasing pair and add one more element.